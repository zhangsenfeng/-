<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.2.1 (456793)"/><meta name="keywords" content="MongoDB"/><meta name="created" content="2018-09-10 11:11:25 +0000"/><meta name="source" content="web.clip7"/><meta name="source-application" content="WebClipper 7"/><meta name="source-url" content="http://www.runoob.com/mongodb/mongodb-connections.html"/><meta name="updated" content="2018-09-10 11:11:25 +0000"/><title>MongoDB 连接</title></head><body>
  <div>
<div style="font-size: 16px; display: inline-block;  min-width: 100%;position: relative;"><div style="font-size:62.5%;"><div style="font-size:1.2em;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;-webkit-font-smoothing:antialiased;background:url(./assets/img/bg.gif) no-repeat rgb(246, 246, 246);color:rgb(51, 51, 51);"><div><div style="min-width:755px;overflow:hidden;"><div><div style="background:rgb(255, 255, 255);border-image:initial;"><div><div>
			
			<h1 style="border:0px;padding:0px;margin:0px 0px 10px;font-size:2.1em;color:rgb(0, 0, 0);text-decoration:none;text-indent:initial;">MongoDB - <span style="border:0px;margin:0px;padding:0px;color:rgb(100, 133, 76);">连接</span></h1>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">在本教程我们将讨论 MongoDB 的不同连接方式。</p>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">启动 MongoDB 服务</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">在前面的教程中，我们已经讨论了<a href="http://www.runoob.com/mongodb/mongodb-window-install.html" target="_blank" style="border:0px;margin:0px;padding:0px;color:rgb(100, 133, 76);transition-duration:0.2s;transition-property:opacity;text-decoration:underline;">如何启动 MongoDB 服务</a>，你只需要在 MongoDB 安装目录的 bin 目录下执行 <strong style="border:0px;margin:0px;padding:0px;">mongodb</strong> 即可。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">执行启动操作后，mongodb 在输出一些必要信息后不会输出任何信息，之后就等待连接的建立，当连接被建立后，就会开始打印日志信息。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">你可以使用 MongoDB shell 来连接 MongoDB 服务器。你也可以使用 PHP 来连接 MongoDB。本教程我们会使用 MongoDB shell 来连接 Mongodb 服务，之后的章节我们将会介绍如何通过php 来连接MongoDB服务。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">标准 URI 连接语法：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]</span></pre><ul style="border:0px;list-style:none;margin:0px;padding:0px;line-height:140%;list-style-type:none;margin-top:1em;margin-bottom:1em;"><li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;">
<p style="border:0px;margin:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;padding:0px 10px;"><strong style="border:0px;margin:0px;padding:0px;">mongodb://</strong> 这是固定的格式，必须要指定。</p></li><li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;"><p style="border:0px;margin:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;padding:0px 10px;"><strong style="border:0px;margin:0px;padding:0px;">username:password@</strong> 可选项，如果设置，在连接数据库服务器之后，驱动都会尝试登陆这个数据库</p></li><li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;"><p style="border:0px;margin:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;padding:0px 10px;"> <strong style="border:0px;margin:0px;padding:0px;">host1</strong> 必须的指定至少一个host, host1 是这个URI唯一要填写的。它指定了要连接服务器的地址。如果要连接复制集，请指定多个主机地址。</p></li><li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;"><p style="border:0px;margin:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;padding:0px 10px;"><strong style="border:0px;margin:0px;padding:0px;">portX</strong> 可选的指定端口，如果不填，默认为27017</p></li><li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;"><p style="border:0px;margin:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;padding:0px 10px;">
<strong style="border:0px;margin:0px;padding:0px;">/database </strong>如果指定username:password@，连接并验证登陆指定数据库。若不指定，默认打开 test 数据库。

</p></li><li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;"><p style="border:0px;margin:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;padding:0px 10px;"> <strong style="border:0px;margin:0px;padding:0px;">?options</strong> 是连接选项。如果不使用/database，则前面需要加上/。所有连接选项都是键值对name=value，键值对之间通过&amp;或;（分号）隔开
</p></li></ul>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">标准的连接格式包含了多个选项(options)，如下所示：</p>
<table style="margin:0px;font-size:inherit;font-style:inherit;font-variant:inherit;font-weight:inherit;border:0px;padding:0px;border-collapse:collapse;width:100%;margin-bottom:4px;margin-top:4px;">
<tbody style="border:0px;margin:0px;padding:0px;">
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(246, 244, 240);">
<th style="margin:0px;border:1px solid rgb(85, 85, 85);padding:3px;font-size:12px;color:rgb(255, 255, 255);background-color:rgb(85, 85, 85);vertical-align:top;text-align:left;">选项</th>
<th style="margin:0px;border:1px solid rgb(85, 85, 85);padding:3px;font-size:12px;color:rgb(255, 255, 255);background-color:rgb(85, 85, 85);vertical-align:top;text-align:left;">描述</th>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">replicaSet=name</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">验证replica set的名称。 Impliesconnect=replicaSet.</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(246, 244, 240);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">slaveOk=true|false</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">
<ul style="border:0px;list-style:none;margin:0px;padding:0px;line-height:140%;list-style-type:none;margin-top:1em;margin-bottom:1em;">
	<li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;">true:在connect=direct模式下，驱动会连接第一台机器，即使这台服务器不是主。在connect=replicaSet模式下，驱动会发送所有的写请求到主并且把读取操作分布在其他从服务器。</li>
	<li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;">false: 在 connect=direct模式下，驱动会自动找寻主服务器. 在connect=replicaSet 模式下，驱动仅仅连接主服务器，并且所有的读写命令都连接到主服务器。</li>
</ul>
</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">safe=true|false</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">
<ul style="border:0px;list-style:none;margin:0px;padding:0px;line-height:140%;list-style-type:none;margin-top:1em;margin-bottom:1em;">
<ul style="border:0px;list-style:none;margin:0px;padding:0px;line-height:140%;list-style-type:none;margin-top:1em;margin-bottom:1em;">
	<li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;">true: 在执行更新操作之后，驱动都会发送getLastError命令来确保更新成功。(还要参考 wtimeoutMS).</li>
</ul>
</ul>
false: 在每次更新之后，驱动不会发送getLastError来确保更新成功。</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(246, 244, 240);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">w=n</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">驱动添加 { w : n } 到getLastError命令. 应用于safe=true。</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">wtimeoutMS=ms</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">驱动添加 { wtimeout : ms } 到 getlasterror 命令. 应用于 safe=true.</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(246, 244, 240);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">fsync=true|false</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">
<ul style="border:0px;list-style:none;margin:0px;padding:0px;line-height:140%;list-style-type:none;margin-top:1em;margin-bottom:1em;">
	<li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;">true: 驱动添加 { fsync : true } 到 getlasterror 命令.应用于 safe=true.</li>
	<li style="background-size:auto 8px;list-style-type:none;background-repeat:no-repeat;background-position:left 0.5em;padding:0px 0px 0px 1.5em;background-image:url(./assets/img/bullet.png);border:0px;margin:0px 0px 1em 1em;line-height:1.5em;font-size:13px;word-break:break-all;">false: 驱动不会添加到getLastError命令中。</li>
</ul>
</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">journal=true|false</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">如果设置为 true, 同步到 journal (在提交到数据库前写入到实体中). 应用于 safe=true</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(246, 244, 240);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">connectTimeoutMS=ms</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">可以打开连接的时间。</td>
</tr>
<tr style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);">
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;min-width:24px;line-height:2em;vertical-align:top;">socketTimeoutMS=ms</td>
<td style="margin:0px;font-size:13px;border:1px solid rgb(212, 212, 212);padding:7px 5px;line-height:2em;min-width:24px;vertical-align:top;">发送和接受sockets的时间。</td>
</tr>
</tbody>
</table>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">实例</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">使用默认端口来连接 MongoDB 的服务。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//localhost</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">通过 shell 连接 MongoDB 服务：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">$ </span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">./</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongo
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 0, 102);">MongoDB</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> shell version</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">3.0</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">6</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">
connecting to</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> test
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">...</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">这时候你返回查看运行 <strong style="border:0px;margin:0px;padding:0px;">./mongod</strong> 命令的窗口，可以看到是从哪里连接到MongoDB的服务器，您可以看到如下信息：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">……省略信息……</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">2015</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">09</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">25T17</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">22</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">27.336</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">+</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">0800</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> I CONTROL  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">[</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">initandlisten</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">]</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> allocator</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> tcmalloc
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">2015</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">09</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">25T17</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">22</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">27.336</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">+</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">0800</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> I CONTROL  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">[</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">initandlisten</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">]</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> options</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> storage</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> dbPath</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"/data/db"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">2015</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">09</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">25T17</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">22</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">27.350</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">+</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">0800</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> I NETWORK  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">[</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">initandlisten</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">]</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> waiting </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 136);">for</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> connections on port </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">27017</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">2015</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">09</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">25T17</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">22</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">36.012</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">+</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">0800</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> I NETWORK  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">[</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">initandlisten</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">]</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> connection accepted </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 136);">from</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">127.0</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">0.1</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">37310</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">#1 (1 connection now open)  # 该行表明一个来自本机的连接</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"

/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">……省略信息……</span></pre><hr style="background-color:rgb(212, 212, 212);color:rgb(212, 212, 212);height:1px;border:0px;clear:both;"/><h2 style="border:0px;padding:0px;margin:2px 0px;font-size:1.8em;line-height:1.8em;">MongoDB 连接命令格式</h2>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">使用用户名和密码连接到 MongoDB 服务器，你必须使用 '<strong style="border:0px;margin:0px;padding:0px;">username:password@hostname/dbname</strong>' 格式，'username'为用户名，'password' 为密码。</p>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">使用用户名和密码连接登陆到默认数据库：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">$ </span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">./</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongo
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 0, 102);">MongoDB</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> shell version</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">3.0</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">6</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">
connecting to</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> test</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">使用用户 admin 使用密码 123456 连接到本地的 MongoDB 服务上。输出结果如下所示：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//admin:123456@localhost/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">...</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">使用用户名和密码连接登陆到指定数据库，格式如下：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//admin:123456@localhost/test</span></pre>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">更多连接实例</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">连接本地数据库服务器，端口是默认的。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//localhost</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">使用用户名fred，密码foobar登录localhost的admin数据库。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//fred:foobar@localhost</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">使用用户名fred，密码foobar登录localhost的baz数据库。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//fred:foobar@localhost/baz</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">连接 replica pair, 服务器1为example1.com服务器2为example2。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//example1.com:27017,example2.com:27017</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">连接 replica set 三台服务器 (端口 27017, 27018, 和27019):</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//localhost,localhost:27018,localhost:27019</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">连接 replica set 三台服务器, 写入操作应用在主服务器 并且分布查询到从服务器。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//host1,host2,host3/?slaveOk=true</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">直接连接第一个服务器，无论是replica set一部分或者主服务器或者从服务器。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//host1,host2,host3/?connect=direct;slaveOk=true</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">当你的连接服务器有优先级，还需要列出所有服务器，你可以使用上述连接方式。</p>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">安全模式连接到localhost:</p>

<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//localhost/?safe=true</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">以安全模式连接到replica set，并且等待至少两个复制服务器成功写入，超时时间设置为2秒。</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">//host1,host2,host3/?safe=true;w=2;wtimeoutMS=2000</span></pre>
			
			
			</div></div></div></div></div></div></div></div></div>
</div>
</body></html>