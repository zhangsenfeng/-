<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.2.1 (456793)"/><meta name="keywords" content="MongoDB"/><meta name="created" content="2018-09-10 11:20:25 +0000"/><meta name="source" content="web.clip7"/><meta name="source-application" content="WebClipper 7"/><meta name="source-url" content="http://www.runoob.com/nodejs/nodejs-mongodb.html"/><meta name="updated" content="2018-09-10 11:20:25 +0000"/><title>Node.js 连接 MongoDB</title></head><body>
  <div>
<div style="font-size: 16px; display: inline-block;  min-width: 100%;position: relative;"><div style="font-size:62.5%;"><div style="font-size:1.2em;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;-webkit-font-smoothing:antialiased;background:url(./assets/img/bg.gif) no-repeat rgb(246, 246, 246);color:rgb(51, 51, 51);"><div><div style="min-width:755px;overflow:hidden;"><div><div style="background:rgb(255, 255, 255);border-image:initial;"><div><div>
			
			<h1 style="border:0px;padding:0px;margin:0px 0px 10px;font-size:2.1em;color:rgb(0, 0, 0);text-decoration:none;text-indent:initial;">Node.js 连接 MongoDB</h1>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">MongoDB是一种文档导向数据库管理系统，由C++撰写而成。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">本章节我们将为大家介绍如何使用 Node.js 来连接 MongoDB，并对数据库进行操作。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">如果你还没有 MongoDB 的基本知识，可以参考我们的教程：<a href="http://www.runoob.com/mongodb/mongodb-tutorial.html" target="_blank" style="border:0px;margin:0px;padding:0px;color:rgb(100, 133, 76);transition-duration:0.2s;transition-property:opacity;text-decoration:underline;">MongoDB 教程</a>。

</p><h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">安装驱动</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">本教程使用了<a href="http://www.runoob.com/nodejs/nodejs-npm.html#taobaonpm" target="_blank" style="border:0px;margin:0px;padding:0px;color:rgb(100, 133, 76);transition-duration:0.2s;transition-property:opacity;text-decoration:underline;">淘宝定制的 cnpm 命令</a>进行安装：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">$ cnpm install mongodb</span></pre>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">接下来我们来实现增删改查功能。</p>
<hr style="background-color:rgb(212, 212, 212);color:rgb(212, 212, 212);height:1px;border:0px;clear:both;"/><h2 style="border:0px;padding:0px;margin:2px 0px;font-size:1.8em;line-height:1.8em;">创建数据库</h2>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">要在 MongoDB 中创建一个数据库，首先我们需要创建一个 MongoClient 对象，然后配置好指定的 URL 和 端口号。</p>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">如果数据库不存在，MongoDB 将创建数据库并建立连接。</p>

<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">创建连接</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
  /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">数据库已创建!</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div></div><hr style="background-color:rgb(212, 212, 212);color:rgb(212, 212, 212);height:1px;border:0px;clear:both;"/><h2 style="border:0px;padding:0px;margin:2px 0px;font-size:1.8em;line-height:1.8em;">创建集合</h2><p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">
我们可以使用 createCollection() 方法来创建集合：</p><div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">创建集合</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">数据库已创建</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbase</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbase</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">createCollection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">创建集合!</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div></div>
<hr style="background-color:rgb(212, 212, 212);color:rgb(212, 212, 212);height:1px;border:0px;clear:both;"/>
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:1.8em;line-height:1.8em;">数据库操作( CURD )</h2>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">与 MySQL 不同的是 MongoDB 会自动创建数据库和集合，所以使用前我们不需要手动去创建。</p>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">插入数据</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">以下实例我们连接数据库 runoob 的 site 表，并插入一条数据条数据，使用<span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;"> insertOne()</span>：</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">插入一条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">myobj</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">name</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">菜鸟教程</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">www.runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">insertOne</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">myobj</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">文档插入成功</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">执行以下命令输出就结果为：</p>
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">$ node test</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">js
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">文档插入成功</span></pre>
</div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">从输出结果来看，数据已插入成功。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">我们也可以打开 MongoDB 的客户端查看数据，如：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> show dbs
runoob  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">0.000GB</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"          /><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);"># 自动创建了 runoob 数据库</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> show tables
site                     </span><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);"># 自动创建了 site 集合（数据表）</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> db</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">find</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">()</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"_id"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 0, 102);">ObjectId</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"5a794e36763eb821b24db854"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">),</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"name"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"菜鸟教程"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"url"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"www.runoob"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">如果要插入多条数据可以使用 <span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">insertMany()</span>：</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">插入多条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">myobj</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> =  </span><span style="border:0px;margin:0px;padding:0px;color:olive;">[</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">name</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">菜鸟工具</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">https://c.runoob.com</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">type</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">cn</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">,
        </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">name</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">Google</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">https://www.google.com</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">type</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">en</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">,
        </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">name</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">Facebook</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">https://www.google.com</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">type</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">en</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
       /><span style="border:0px;margin:0px;padding:0px;color:olive;">]</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">insertMany</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">myobj</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">插入的文档数量为: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> + </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">insertedCount</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div></div><p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">res.insertedCount 为插入的条数。</p>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">查询数据</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">可以使用 find()  来查找数据, find() 可以返回匹配条件的所有数据。
如果未指定条件，find() 返回集合中的所有数据。

</p><div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">find()</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">. </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">find</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">toArray</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 返回集合中所有数据</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">以下实例检索 name 为 "菜鸟教程" 的实例：</p>

<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">查询指定条件的数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
     </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">name</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">菜鸟教程</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 查询条件</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">find</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">toArray</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">执行以下命令输出就结果为：</p>
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">[</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> _id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">5a794e36763eb821b24db854</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">
    name</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">'菜鸟教程'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">
    url</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">'www.runoob'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">]</span></pre>
</div>
</div>

<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">更新数据</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">我们也可以对数据库的数据进行修改，以下实例将  name 为 "菜鸟教程" 的 url 改为 https://www.runoob.com：</p>

<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">更新一条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">name</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">菜鸟教程</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 查询条件</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">updateStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;">$</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">set</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">url</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> : </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">https://www.runoob.com</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">updateOne</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">updateStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">文档更新成功</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">执行成功后，进入 mongo 管理工具查看数据已修改：</p>
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> db</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">find</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">().</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">pretty</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">()</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"_id"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 0, 102);">ObjectId</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"5a794e36763eb821b24db854"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">),</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"name"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"菜鸟教程"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"url"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">"https://www.runoob.com"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"     /><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">// 已修改为 https</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span></pre>
</div>
</div>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">如果要更新所有符合条的文档数据可以使用 <span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">updateMany()</span>：</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">更新多条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">type</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">en</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 查询条件</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">updateStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;">$</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">set</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">url</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> : </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">https://www.runoob.com</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">updateMany</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">updateStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
         </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">nModified</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> + </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);"> 条文档被更新</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div></div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">result.nModified 为更新的条数。</p>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">删除数据</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">以下实例将  name 为 "菜鸟教程" 的数据删除 :</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">删除一条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">name</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">菜鸟教程</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 查询条件</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">deleteOne</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">obj</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">文档删除成功</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">执行成功后，进入 mongo 管理工具查看数据已删除：</p>
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> db</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);">find</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">()</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">&gt;</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /></pre>
</div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">如果要删除多条语句可以使用 <span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">deleteMany()</span> 方法

</p><p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">以下实例将  type 为 en 的所有数据删除 :</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">删除多条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">type</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">en</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 查询条件</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">deleteMany</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">whereStr</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">obj</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">obj</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">n</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> + </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);"> 条文档被删除</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">obj.result.n 删除的条数。</p>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">排序</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">排序 使用 sort() 方法，该方法接受一个参数，规定是升序(1)还是降序(-1)。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">例如：</p>
<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> type</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">1</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"  /><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">// 按 type 字段升序</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> type</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">-</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">1</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(136, 0, 0);">// 按 type 字段降序</span></pre>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">按 type 升序排列:</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">排序</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">mysort</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">type</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:maroon;">1</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">find</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">sort</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">mysort</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">toArray</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
</div>
<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">查询分页</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">如果要设置指定的返回条数可以使用 <span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">limit()</span> 方法，该方法只接受一个参数，指定了返回的条数。</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">limit()：读取两条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">find</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">limit</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:maroon;">2</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">toArray</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
  </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
</div>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">如果要指定跳过的条数，可以使用 <span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">skip()</span> 方法。</p>

<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">skip(): 跳过前面两条数据，读取两条数据</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">site</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">find</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">skip</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:maroon;">2</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">limit</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:maroon;">2</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">toArray</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">result</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
  </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
</div>

<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">连接操作</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">mongoDB 不是一个关系型数据库，但我们可以使用  <span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">$lookup</span> 来实现左连接。</p>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">例如我们有两个集合数据分别为：</p>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">集合1：orders</p>

<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">[</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
  /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> _id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">1</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> product_id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">154</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> status</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">1</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">]</span></pre>

<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">集合2：products</p>

<pre style="word-wrap:break-word;border:0px;border-image:initial;font:12px/20px Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;margin:15px auto;border-width:1px 1px 1px 4px;border-style:solid;border-color:rgb(221, 221, 221);background:url(/images/codecolorer_bg.gif) center top rgb(251, 251, 251);padding:10px 15px;"><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">[</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
  /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> _id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">154</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> name</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">'笔记本电脑'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">},</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
  /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> _id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">155</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> name</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">'耳机'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">},</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
  /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">{</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> _id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 102, 102);">156</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">,</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"> name</span><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">:</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 136, 0);">'台式电脑'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);" /><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">}</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 0, 0);"
/><span style="border:0px;margin:0px;padding:0px;color:rgb(102, 102, 0);">]</span></pre>


<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">$lookup 实现左连接</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://127.0.0.1:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
  /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
  </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
  </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">orders</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">aggregate</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">[</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> $</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">lookup</span><span style="border:0px;margin:0px;padding:0px;color:gray;">:
       </span><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
         /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">from</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">products</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">,            </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 右集合</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
         /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">localField</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">product_id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">,    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 左集合 join 字段</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
         /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">foreignField</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">_id</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;">,         </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 右集合 join 字段</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
         /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">as</span><span style="border:0px;margin:0px;padding:0px;color:gray;">: </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">orderdetails</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:gray;"           /><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 新生成字段（类型array）</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
       /><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
     /><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:olive;">]</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">toArray</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">JSON</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">stringify</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">res</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
  </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
</div>



<h3 style="border:0px;padding:0px;margin:8px 0px;font-size:1.4em;font-weight:700;">删除集合</h3>
<p style="border:0px;margin:0px;padding:0px;line-height:2em;word-wrap:break-word;word-break:break-all;font-size:13px;font-family:&quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">我们可以使用 <span style="border:0px;margin:0px;padding:0.2em;background-color:rgb(236, 234, 230);border-radius:3px;font-weight:bold;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">drop()</span> 方法来删除集合：</p>
<div style="border:1px solid rgb(212, 212, 212);margin:0px 0px 5px;padding:5px;width:98%;color:rgb(0, 0, 0);background-color:rgb(229, 238, 204);background-image:linear-gradient(rgb(255, 255, 255), rgb(229, 238, 204) 100px);"> 
<h2 style="border:0px;padding:0px;margin:2px 0px;font-size:120%;line-height:1.8em;color:rgb(97, 127, 16);background-color:transparent;margin-top:0px;">drop()</h2> 
<div style="margin:0px;border:1px solid rgb(212, 212, 212);padding:5px;line-height:1.4em;width:98%;background-color:rgb(255, 255, 255);font-size:110%;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;word-break:break-all;word-wrap:break-word;">
<div style="border:0px;margin:0px;padding:0px;background-color:rgb(255, 255, 255);font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">require</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">'</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">mongodb://localhost:27017/</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
 
</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">MongoClient</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">connect</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">url</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:green;">var</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;"> = </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">runoob</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 删除 test 集合</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
    /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">dbo</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">collection</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">test</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">drop</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:green;">function</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">, </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">delOK</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">{</span><span style="border:0px;margin:0px;padding:0px;color:gray;"  /><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);">//</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"> 执行成功 delOK 返回 true，否则返回 false</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 85, 0);"/><span style="border:0px;margin:0px;padding:0px;color:gray;"
        /><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:green;">throw</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">err</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:green;">if</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">delOK</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;" /><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">console</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">log</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:rgb(170, 17, 17);">集合已删除</span><span style="border:0px;margin:0px;padding:0px;color:rgb(139, 0, 0);">"</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
        </span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">db</span><span style="border:0px;margin:0px;padding:0px;color:gray;">.</span><span style="border:0px;margin:0px;padding:0px;color:rgb(0, 85, 170);">close</span><span style="border:0px;margin:0px;padding:0px;color:olive;">(</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
    </span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;
</span><span style="border:0px;margin:0px;padding:0px;color:olive;">}</span><span style="border:0px;margin:0px;padding:0px;color:olive;">)</span><span style="border:0px;margin:0px;padding:0px;color:gray;">;</span></div>
</div>
</div>			
			
			</div></div></div></div></div></div></div></div></div>
</div>
</body></html>